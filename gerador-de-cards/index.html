<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gerador de Cards JIRA - XML</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #fff 0%, #0052cc 100%);
            color: #333;
            padding: 20px;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            overflow: hidden;
        }
        
        header {
            background-color: #0052cc;
            color: white;
            padding: 20px;
            text-align: center;
        }
        
        header h1 {
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .logo {
            font-size: 28px;
            font-weight: bold;
        }
        
        .content {
            display: flex;
            flex-wrap: wrap;
            padding: 20px;
        }
        
        .config-panel {
            flex: 1;
            min-width: 300px;
            padding: 20px;
            background-color: #f5f5f5;
            border-radius: 8px;
            margin-right: 20px;
        }
        
        .preview-panel {
            flex: 2;
            min-width: 400px;
            padding: 20px;
            background-color: white;
            border: 1px solid #ddd;
            border-radius: 8px;
            max-height: 600px;
            overflow-y: auto;
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
            color: #0052cc;
        }
        
        input, select {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 16px;
        }
        
        button {
            background-color: #0052cc;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            width: 100%;
            margin-top: 10px;
            transition: background-color 0.3s;
        }
        
        button:hover {
            background-color: #003d99;
        }
        
        .card {
            background-color: white;
            border-left: 5px solid #0052cc;
            border-radius: 4px;
            padding: 15px;
            margin-bottom: 15px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .card-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }
        
        .card-key {
            font-weight: bold;
            color: #0052cc;
        }
        
        .card-type {
            background-color: #deebff;
            color: #0052cc;
            padding: 3px 8px;
            border-radius: 3px;
            font-size: 12px;
        }
        
        .card-summary {
            font-weight: 600;
            margin-bottom: 10px;
        }
        
        .card-details {
            display: flex;
            gap: 15px;
            font-size: 14px;
            color: #666;
        }
        
        .priority-high {
            color: #ff5630;
            font-weight: bold;
        }
        
        .priority-medium {
            color: #ffab00;
            font-weight: bold;
        }
        
        .priority-low {
            color: #36b37e;
            font-weight: bold;
        }
        
        .actions {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }
        
        .actions button {
            width: auto;
        }
        
        .xml-output {
            white-space: pre-wrap;
            font-family: monospace;
            background-color: #f9f9f9;
            padding: 15px;
            border-radius: 4px;
            max-height: 400px;
            overflow-y: auto;
            display: none;
        }
        
        .tabs {
            display: flex;
            margin-bottom: 15px;
        }
        
        .tab {
            padding: 10px 20px;
            background-color: #eee;
            cursor: pointer;
            border-radius: 4px 4px 0 0;
            margin-right: 5px;
        }
        
        .tab.active {
            background-color: #0052cc;
            color: white;
        }
        
        .random-option {
            background-color: #deebff;
            padding: 10px;
            border-radius: 4px;
            margin-bottom: 15px;
            text-align: center;
            font-weight: 600;
        }
        
        @media (max-width: 768px) {
            .content {
                flex-direction: column;
            }
            
            .config-panel {
                margin-right: 0;
                margin-bottom: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1><span class="logo">JIRA</span> Gerador de Cards em XML</h1>
            <p>Gere uma massa de dados fake no formato XML compatível com o JIRA</p>
        </header>
        
        <div class="content">
            <div class="config-panel">
                <h2>Configurações</h2>
                
                <div class="random-option">
                    ⚡ Tipos e Prioridades Aleatórias
                </div>
                
                <div class="form-group">
                    <label for="numCards">Número de Cards:</label>
                    <input type="number" id="numCards" min="1" max="100" value="15">
                </div>
                
                <div class="form-group">
                    <label for="projectKey">Chave do Projeto:</label>
                    <input type="text" id="projectKey" value="PROJ">
                </div>
                
                <button id="generateBtn">Gerar Cards Aleatórios</button>
                <button id="downloadBtn" style="background-color: #36b37e;">Download XML</button>
            </div>
            
            <div class="preview-panel">
                <div class="tabs">
                    <div class="tab active" id="previewTab">Visualização</div>
                    <div class="tab" id="xmlTab">Código XML</div>
                </div>
                
                <div id="previewContent">
                    <h3>Pré-visualização dos Cards</h3>
                    <p>Clique em "Gerar Cards Aleatórios" para criar uma massa de dados fake.</p>
                    <div id="cardsContainer"></div>
                </div>
                
                <div id="xmlContent" class="xml-output"></div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const generateBtn = document.getElementById('generateBtn');
            const downloadBtn = document.getElementById('downloadBtn');
            const previewTab = document.getElementById('previewTab');
            const xmlTab = document.getElementById('xmlTab');
            const previewContent = document.getElementById('previewContent');
            const xmlContent = document.getElementById('xmlContent');
            const cardsContainer = document.getElementById('cardsContainer');
            
            // Dados fakes para geração
            const summaries = [
                "Implementar funcionalidade de login",
                "Corrigir bug no carregamento de dados",
                "Otimizar performance da consulta",
                "Adicionar validação de formulário",
                "Criar relatório de métricas",
                "Atualizar documentação da API",
                "Refatorar módulo de autenticação",
                "Melhorar responsividade do layout",
                "Adicionar testes unitários",
                "Integrar com serviço de terceiros",
                "Implementar sistema de cache",
                "Corrigir vulnerabilidade de segurança",
                "Criar dashboard administrativo",
                "Otimizar carga de imagens",
                "Implementar filtros avançados",
                "Corrigir problema de timezone",
                "Adicionar suporte a temas escuros",
                "Melhorar acessibilidade",
                "Implementar busca em tempo real",
                "Adicionar suporte a múltiplos idiomas"
            ];
            
            const descriptions = [
                "É necessário implementar a funcionalidade de login com autenticação por JWT.",
                "O sistema está apresentando lentidão no carregamento de grandes volumes de dados.",
                "A consulta ao banco está demorando mais que o esperado, necessita otimização.",
                "Adicionar validações no formulário de cadastro para evitar dados inconsistentes.",
                "Criar um relatório que mostre as principais métricas do sistema.",
                "A documentação da API está desatualizada e precisa ser revisada.",
                "O módulo de autenticação precisa ser refatorado para melhorar a segurança.",
                "O layout não está respondendo corretamente em dispositivos móveis.",
                "É necessário cobrir com testes unitários os módulos críticos do sistema.",
                "Integrar o sistema com o serviço de pagamento externo.",
                "Implementar sistema de cache para melhorar performance em consultas frequentes.",
                "Identificada vulnerabilidade de segurança que permite acesso não autorizado.",
                "Criar dashboard para administradores com métricas e controles do sistema.",
                "Otimizar o carregamento de imagens para reduzir o consumo de banda.",
                "Implementar sistema de filtros avançados para relatórios e listagens.",
                "Corrigir problemas de exibição de datas devido a configuração de timezone.",
                "Adicionar suporte a tema escuro para melhor experiência do usuário.",
                "Melhorar a acessibilidade do sistema para usuários com necessidades especiais.",
                "Implementar sistema de busca em tempo real para melhor usabilidade.",
                "Adicionar suporte a múltiplos idiomas para internacionalização do sistema."
            ];
            
            const assignees = [
                "João Silva", "Maria Santos", "Pedro Costa", "Ana Oliveira", 
                "Carlos Souza", "Juliana Pereira", "Fernando Alves", "Camila Rodrigues",
                "Ricardo Lima", "Patrícia Mendes"
            ];
            
            const reporters = [
                "Product Owner", "Scrum Master", "Tech Lead", "Cliente", "Gerente de Projeto"
            ];
            
            const issueTypes = ["Story", "Bug", "Task", "Epic"];
            const priorities = ["High", "Medium", "Low"];
            
            // Obter cor baseada no tipo de issue
            function getIssueColor(type) {
                switch(type) {
                    case "Story": return "#36b37e";
                    case "Bug": return "#ff5630";
                    case "Task": return "#0052cc";
                    case "Epic": return "#6554c0";
                    default: return "#0052cc";
                }
            }
            
            // Obter classe de prioridade
            function getPriorityClass(priority) {
                switch(priority) {
                    case "High": return "priority-high";
                    case "Medium": return "priority-medium";
                    case "Low": return "priority-low";
                    default: return "";
                }
            }
            
            // Obter texto de prioridade
            function getPriorityText(priority) {
                switch(priority) {
                    case "High": return "Alta";
                    case "Medium": return "Média";
                    case "Low": return "Baixa";
                    default: return priority;
                }
            }
            
            // Gerar dados aleatórios
            function getRandomItem(array) {
                return array[Math.floor(Math.random() * array.length)];
            }
            
            function getRandomDate(start, end) {
                return new Date(start.getTime() + Math.random() * (end.getTime() - start.getTime()));
            }
            
            // Gerar cards
            function generateCards() {
                const numCards = parseInt(document.getElementById('numCards').value);
                const projectKey = document.getElementById('projectKey').value;
                
                cardsContainer.innerHTML = '';
                let xmlString = '<?xml version="1.0" encoding="UTF-8"?>\n<rss version="2.0">\n<channel>\n<title>JIRA Export</title>\n<description>JIRA Issues Export</description>\n';
                
                for (let i = 1; i <= numCards; i++) {
                    const key = `${projectKey}-${i}`;
                    const summary = getRandomItem(summaries);
                    const description = getRandomItem(descriptions);
                    const assignee = getRandomItem(assignees);
                    const reporter = getRandomItem(reporters);
                    const created = getRandomDate(new Date(2023, 0, 1), new Date()).toISOString().split('T')[0];
                    const issueType = getRandomItem(issueTypes);
                    const priority = getRandomItem(priorities);
                    const issueColor = getIssueColor(issueType);
                    const priorityClass = getPriorityClass(priority);
                    const priorityText = getPriorityText(priority);
                    
                    // Criar card visual
                    const card = document.createElement('div');
                    card.className = 'card';
                    card.style.borderLeftColor = issueColor;
                    card.innerHTML = `
                        <div class="card-header">
                            <span class="card-key">${key}</span>
                            <span class="card-type" style="background-color: ${issueColor}">${issueType}</span>
                        </div>
                        <div class="card-summary">${summary}</div>
                        <div class="card-details">
                            <span><strong>Atribuído:</strong> ${assignee}</span>
                            <span class="${priorityClass}"><strong>Prioridade:</strong> ${priorityText}</span>
                            <span><strong>Data:</strong> ${created}</span>
                        </div>
                    `;
                    cardsContainer.appendChild(card);
                    
                    // Adicionar ao XML
                    xmlString += `  <item>\n`;
                    xmlString += `    <key>${key}</key>\n`;
                    xmlString += `    <summary>${summary}</summary>\n`;
                    xmlString += `    <description>${description}</description>\n`;
                    xmlString += `    <type>${issueType}</type>\n`;
                    xmlString += `    <priority>${priority}</priority>\n`;
                    xmlString += `    <assignee>${assignee}</assignee>\n`;
                    xmlString += `    <reporter>${reporter}</reporter>\n`;
                    xmlString += `    <created>${created}</created>\n`;
                    xmlString += `  </item>\n`;
                }
                
                xmlString += '</channel>\n</rss>';
                xmlContent.textContent = xmlString;
            }
            
            // Download do XML
            function downloadXML() {
                const blob = new Blob([xmlContent.textContent], { type: 'application/xml' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = 'jira_cards_export.xml';
                document.body.appendChild(a);
                a.click();
                setTimeout(() => {
                    document.body.removeChild(a);
                    URL.revokeObjectURL(url);
                }, 0);
            }
            
            // Alternar entre visualização e XML
            previewTab.addEventListener('click', function() {
                previewTab.classList.add('active');
                xmlTab.classList.remove('active');
                previewContent.style.display = 'block';
                xmlContent.style.display = 'none';
            });
            
            xmlTab.addEventListener('click', function() {
                xmlTab.classList.add('active');
                previewTab.classList.remove('active');
                xmlContent.style.display = 'block';
                previewContent.style.display = 'none';
            });
            
            // Event listeners
            generateBtn.addEventListener('click', generateCards);
            downloadBtn.addEventListener('click', downloadXML);
            
            // Gerar alguns cards iniciais
            generateCards();
        });
    </script>
</body>
</html>